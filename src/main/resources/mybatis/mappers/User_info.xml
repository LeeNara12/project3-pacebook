<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="User_infoDAO">

	<select id='login' parameterType='PaceUserVO' resultType='PaceUserVO'>
		select * 
		from user_info
		where user_id = #{user_id}
		and user_pw = #{user_pw} 
	</select>
	
	
	
	<select id="join1" parameterType='PaceUserVO' resultType='PaceUserVO'>
		select *
		from user_info
		where user_id = #{user_id}
	</select>
	<insert id='join2' parameterType='PaceUserVO' >
		insert into user_info
		values(seq_user.nextval, #{user_id}, #{user_pw}, current_date, #{user_name}, #{user_email}, #{user_phone}, 'image/profile.jpg', #{user_birth},#{user_gender}, 0, 0)	
	</insert>
	
	
	
	<select id='idCheck' parameterType='PaceUserVO' resultType='PaceUserVO'>
		select * 
		form user_info
		where user_name = #{user_name}
		and user_birth = #{user_birth}
		and user_phone = #{user_phone}
	</select>
	
	
	
	<select id='pwCheck1' parameterType='PaceUserVO' resultType='PaceUserVO'>
		select * 
		form user_info
		where user_name = #{user_name}
		and user_id = #{user_id}
	</select>
	<update id='pwCheck2' parameterType='java.util.HashMap'>
		update user_info
		set user_pw = #{temPW}
		where user_name = #{vo.user_name}
		and user_id = #{vo.user_id}
	</update>
	
	
	
	
	<select id='getUserInfo' parameterType='int' resultType='PaceUserVO'>
		select *
		from user_info
		where user_no = #{_parameter}
	</select>
	
	
	
	<select id="profile" parameterType='int' resultType='String'>
		select user_profile
		from user_info
		where user_no = #{_parameter}
	</select>
	
	
	
	
	<select id='getFollowList' parameterType='int' resultType='PaceUserVO'>
		select *
		from user_info
		where user_no in 
		(
			select follow_u_no
			from follow_list
			where user_no = #{_parameter}
		)
	</select>
	
	
	
	
	<select id='getFollowerList' parameterType='int' resultType='PaceUserVO'>
		select *
		from user_info
		where user_no in
		(
			select follower_u_no
			from follower_list
			where user_no= #{_parameter} 
		)
	</select>
	
	
	
	<select id="follow" parameterType='java.util.Hash'>
		select *
		from follow_list
		where user_no = #{}
	</select>
	
	

	
	
	
	
	
	
	
	
	
	
	
</mapper>